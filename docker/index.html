
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../data-visualization/">
      
      
        <link rel="next" href="../git/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.3">
    
    
      
        <title>Docker - Introduction to data science tools</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.c4a75a56.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Introduction to data science tools" class="md-header__button md-logo" aria-label="Introduction to data science tools" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Introduction to data science tools
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Docker
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Introduction to data science tools" class="md-nav__button md-logo" aria-label="Introduction to data science tools" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Introduction to data science tools
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../airflow/" class="md-nav__link">
        Airflow
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../data-visualization/" class="md-nav__link">
        Data visualization
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Docker
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-containerization" class="md-nav__link">
    What is containerization ?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts-components" class="md-nav__link">
    Key concepts &amp; components
  </a>
  
    <nav class="md-nav" aria-label="Key concepts &amp; components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-dockerfile" class="md-nav__link">
    1. Dockerfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-docker-image" class="md-nav__link">
    2. Docker image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-docker-registry" class="md-nav__link">
    3. Docker registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-docker-container" class="md-nav__link">
    4. Docker container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-docker-compose" class="md-nav__link">
    5. Docker Compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-docker-swarm" class="md-nav__link">
    6. Docker Swarm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-build-a-docker-image-for-my-application" class="md-nav__link">
    How to build a docker image for my application ?
  </a>
  
    <nav class="md-nav" aria-label="How to build a docker image for my application ?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-docker-image-for-a-flask-application" class="md-nav__link">
    Example - Docker image for a flask application
  </a>
  
    <nav class="md-nav" aria-label="Example - Docker image for a flask application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run-your-application" class="md-nav__link">
    Run your application !
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commands-recap" class="md-nav__link">
    Commands recap
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../git/" class="md-nav__link">
        Git
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../python_package_management/" class="md-nav__link">
        Python package management
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Practice
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Practice
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practice/airflow/" class="md-nav__link">
        Airflow in practice
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practice/data_visualization/" class="md-nav__link">
        Data visualization with Plotly Dash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../practice/docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-containerization" class="md-nav__link">
    What is containerization ?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-concepts-components" class="md-nav__link">
    Key concepts &amp; components
  </a>
  
    <nav class="md-nav" aria-label="Key concepts &amp; components">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-dockerfile" class="md-nav__link">
    1. Dockerfile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-docker-image" class="md-nav__link">
    2. Docker image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-docker-registry" class="md-nav__link">
    3. Docker registry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-docker-container" class="md-nav__link">
    4. Docker container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-docker-compose" class="md-nav__link">
    5. Docker Compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-docker-swarm" class="md-nav__link">
    6. Docker Swarm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-build-a-docker-image-for-my-application" class="md-nav__link">
    How to build a docker image for my application ?
  </a>
  
    <nav class="md-nav" aria-label="How to build a docker image for my application ?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-docker-image-for-a-flask-application" class="md-nav__link">
    Example - Docker image for a flask application
  </a>
  
    <nav class="md-nav" aria-label="Example - Docker image for a flask application">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#run-your-application" class="md-nav__link">
    Run your application !
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commands-recap" class="md-nav__link">
    Commands recap
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Docker</h1>

<h2 id="introduction">Introduction</h2>
<p>Docker is a software platform that allows developers to package, distribute, and run applications in a containerized 
environment. Containers are lightweight, portable, and self-contained environments that can run almost anywhere, 
from a developer's laptop to a cloud-based infrastructure.</p>
<h3 id="what-is-containerization">What is containerization ?</h3>
<p><img align="left" alt="Docker container" src="https://www.docker.com/wp-content/uploads/2021/11/docker-containerized-appliction-blue-border_2.png" /></p>
<h2 id="key-concepts-components">Key concepts &amp; components</h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The best way to be familiar with docker is to practice, also they provide a great <a href="https://docs.docker.com">documentation</a></p>
</div>
<h3 id="1-dockerfile">1. Dockerfile</h3>
<p>A Dockerfile is a text file that contains instructions on how to build a Docker image. The Docker image is a binary file 
that contains everything needed to run an application, including the code, libraries, and dependencies. </p>
<h3 id="2-docker-image">2. Docker image</h3>
<p>A Docker image is a snapshot of a container, which includes the application code, libraries, and dependencies. 
Images can be built from a Dockerfile or pulled from a public or private Docker registry.</p>
<h3 id="3-docker-registry">3. Docker registry</h3>
<p>A Docker registry is a repository for storing and sharing Docker images. Docker Hub is the most popular public Docker 
registry, but you can also use private registries for your organization's images.</p>
<h3 id="4-docker-container">4. Docker container</h3>
<p>A Docker container is a lightweight, standalone executable package that includes everything needed to run an 
application, including the application code, libraries, and dependencies. Containers are isolated from the host 
system and from other containers, making them a secure way to run applications.</p>
<h3 id="5-docker-compose">5. Docker Compose</h3>
<p>Docker Compose is a tool for defining and running multi-container Docker applications. With Docker Compose, you can define the services that make up your application, their configuration, and the network they should use to communicate with each other.</p>
<h3 id="6-docker-swarm">6. Docker Swarm</h3>
<p>Docker Swarm is a native clustering and orchestration tool for Docker. With Swarm, you can create and manage a cluster 
of Docker nodes, and deploy and manage Docker services across the cluster.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>It's not very common to use it in a production environment, the standard is to use <a href="https://kubernetes.io/">kubernetes</a></p>
</div>
<h2 id="how-to-build-a-docker-image-for-my-application">How to build a docker image for my application ?</h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The convention is to provide the configuration in a <code>Dockerfile</code> file, however you can give choose another name 
instead of the default one.     </p>
</div>
<p>To distribute your application with docker, you basically need to provide the following information and assets:</p>
<ul>
<li>On which environment my image must be based on ? It can be python, ubuntu. This is done using the <code>FROM</code> keyword</li>
<li>What will be the working directory ? This is done using <code>WORKDIR</code> keyword</li>
<li>Provide the source files (for example your python code) of the application and any needed file. This is done using 
<code>COPY</code> keyword. It works as follows : <code>COPY &lt;src&gt; &lt;dest&gt;</code> </li>
<li>Provide the command that must be run during the build process (for example installing python dependencies). 
This is done using <code>RUN</code> keyword</li>
<li>Specify the port that your container will listen on at runtime. For example, if you deploy an API listening on port
<code>8080</code>, you need to expose this port to make it accessible from outside the container</li>
<li>Finally, you need to specify the command to run when a container is started. This is done using <code>CMD</code> keyword and 
has the following syntax : <code>CMD ["executable","param1","param2"]</code> </li>
</ul>
<p>There are many other keywords that can be used, for example <code>ENV</code> to set environment variables or <code>ARG</code> to handle input
argument, you can find the list in <a href="(https://docs.docker.com/engine/reference/builder/)">docker documentation</a></p>
<h3 id="example-docker-image-for-a-flask-application">Example - Docker image for a flask application</h3>
<p>Assuming you have the following hello-world flask api, in a file <code>app.py</code> : </p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="k">def</span> <span class="nf">hello</span><span class="p">():</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="k">return</span> <span class="s1">&#39;Hello, World!&#39;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;0.0.0.0&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
</span></code></pre></div>
<p>Your <code>requirements.txt</code> contains : 
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Flask==2.2.3
</span></code></pre></div></p>
<p>Here the corresponding <code>Dockerfile</code> : </p>
<p><div class="language-Dockerfile highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c"># Use the official Python base image</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">FROM</span><span class="w"> </span><span class="s">python:3.9</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="c"># Set the working directory of the container</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="c"># Copy the requirements file containing your dependencies list into the container</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="k">COPY</span><span class="w"> </span>requirements.txt<span class="w"> </span>.
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="c"># Install necessary dependencies</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="k">RUN</span><span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--no-cache-dir<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="c"># Copy the code of the app (there is only one file), can copy all current dir using `.`</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="k">COPY</span><span class="w"> </span>app.py<span class="w"> </span>.
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="c"># Expose port 5000, the default port used by flask</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="k">EXPOSE</span><span class="w"> </span><span class="s">5000</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="c"># Start the Flask app</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;python&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;app.py&quot;</span><span class="p">]</span>
</span></code></pre></div>
Now, you can build the docker image (the following command will work if you are in the directory containing your 
Dockerfile) : <code>docker build -t flask-app-example .</code></p>
<p>You should have an output like :</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Sending<span class="w"> </span>build<span class="w"> </span>context<span class="w"> </span>to<span class="w"> </span>Docker<span class="w"> </span>daemon<span class="w">  </span><span class="m">123</span>.45kB
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>Step<span class="w"> </span><span class="m">1</span>/5<span class="w"> </span>:<span class="w"> </span>FROM<span class="w"> </span>python:3.9
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="m">3</span>.9:<span class="w"> </span>Pulling<span class="w"> </span>from<span class="w"> </span>library/python
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>...
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>Status:<span class="w"> </span>Downloaded<span class="w"> </span>newer<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span>python:3.9
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w"> </span>---&gt;<span class="w"> </span>1234567890ab
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>Step<span class="w"> </span><span class="m">2</span>/5<span class="w"> </span>:<span class="w"> </span>WORKDIR<span class="w"> </span>/app
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w"> </span>---&gt;<span class="w"> </span>Running<span class="w"> </span><span class="k">in</span><span class="w"> </span>9876543210ba
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>Removing<span class="w"> </span>intermediate<span class="w"> </span>container<span class="w"> </span>9876543210ba
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w"> </span>---&gt;<span class="w"> </span>fedcba987654
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>Step<span class="w"> </span><span class="m">3</span>/5<span class="w"> </span>:<span class="w"> </span>COPY<span class="w"> </span>requirements.txt<span class="w"> </span>.
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w"> </span>---&gt;<span class="w"> </span>0123456789cd
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>Step<span class="w"> </span><span class="m">4</span>/5<span class="w"> </span>:<span class="w"> </span>RUN<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--no-cache-dir<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>...
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>Successfully<span class="w"> </span>installed<span class="w"> </span>Flask-1.1.2<span class="w"> </span>...
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>Step<span class="w"> </span><span class="m">5</span>/5<span class="w"> </span>:<span class="w"> </span>COPY<span class="w"> </span>app.py<span class="w"> </span>.
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w"> </span>---&gt;<span class="w"> </span>9876543210dc
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>Removing<span class="w"> </span>intermediate<span class="w"> </span>container<span class="w"> </span>9876543210dc
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w"> </span>---&gt;<span class="w"> </span>fedcba987654
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>Successfully<span class="w"> </span>built<span class="w"> </span>fedcba987654
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>Successfully<span class="w"> </span>tagged<span class="w"> </span>flask-app-example:latest
</span></code></pre></div>
<p>You can list the docker images on your machine with <code>docker image ls</code>. You must be able to see the previously created image : 
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>REPOSITORY<span class="w">              </span>TAG<span class="w">       </span>IMAGE<span class="w"> </span>ID<span class="w">       </span>CREATED<span class="w">       </span>SIZE
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>flask-app-example<span class="w">       </span>latest<span class="w">    </span>fedcba987654<span class="w">   </span><span class="m">2</span><span class="w"> </span>hours<span class="w"> </span>ago<span class="w">   </span>123MB
</span></code></pre></div></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>As we've not set any tag, the default <code>latest</code> will be used, it indicates that this is the latest version.</p>
</div>
<h4 id="run-your-application">Run your application !</h4>
<p>You can now run your application using <code>docker run -p 5000:5000 -d flask-app-example</code></p>
<h4 id="conclusion">Conclusion</h4>
<p>If you want to run your application in any cloud environment, you need to push the docker image into
a docker registry. Each cloud provider has its own container registry service. You can do it manually from your local 
machine using the cli of your cloud provider, however it's important to keep in mind that you will not do it
manually in a real project. The process of build and distribution of the docker image will be done in your
<code>CI/CD</code> pipeline.</p>
<h2 id="commands-recap">Commands recap</h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Once again, you don't need to remind all the commands, just practice and go through the documentation ! </p>
</div>
<table>
<thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>docker run</td>
<td>Run a container</td>
</tr>
<tr>
<td>docker ps</td>
<td>List running containers</td>
</tr>
<tr>
<td>docker images</td>
<td>List available images</td>
</tr>
<tr>
<td>docker build</td>
<td>Build an image from a Dockerfile</td>
</tr>
<tr>
<td>docker push</td>
<td>Push an image to a remote registry</td>
</tr>
<tr>
<td>docker pull</td>
<td>Pull an image from a remote registry</td>
</tr>
<tr>
<td>docker stop</td>
<td>Stop a running container</td>
</tr>
<tr>
<td>docker rm</td>
<td>Remove a container</td>
</tr>
<tr>
<td>docker rmi</td>
<td>Remove an image</td>
</tr>
<tr>
<td>docker exec</td>
<td>Execute a command in a running container</td>
</tr>
<tr>
<td>docker logs</td>
<td>View the logs of a container</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In this page, we only cover the basics of docker, the best way to be more confortable with docker is to practice 
through your student projects !</p>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.efa0ade1.min.js"></script>
      
    
  </body>
</html>